(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[640],{4247:function(e,t,l){Promise.resolve().then(l.bind(l,1278))},2629:function(e,t,l){"use strict";l.d(t,{default:function(){return r}});var s=l(7437),n=l(2265),a=l(8472);function r(){let[e,t]=(0,n.useState)(""),[l,r]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[c,u]=(0,n.useState)(""),[d,p]=(0,n.useState)(""),m=async t=>{t.preventDefault();let s={prenom:e,nom:l,email:o,password:c,sexe:d.substring(0,1)};try{await a.Z.post("http://localhost:3000/signup",s),window.location.href="/connexion"}catch(e){console.log(e)}};return(0,s.jsxs)("form",{className:"flex flex-col gap-3 p-10 w-full max-w-sm",onSubmit:m,children:[(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Prenom",(0,s.jsx)("input",{type:"text",className:"grow",placeholder:"Le",value:e,onChange:e=>t(e.target.value)})]}),(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Nom",(0,s.jsx)("input",{type:"text",className:"grow",placeholder:"goat",value:l,onChange:e=>r(e.target.value)})]}),(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Email",(0,s.jsx)("input",{type:"text",className:"grow",placeholder:"daisy@site.com",value:o,onChange:e=>i(e.target.value)})]}),(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",clipRule:"evenodd"})}),(0,s.jsx)("input",{type:"password",className:"grow",placeholder:"password",value:c,onChange:e=>u(e.target.value)})]}),(0,s.jsxs)("select",{className:"select select-bordered w-full max-w-xs",value:d,onChange:e=>p(e.target.value),children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"Sexe"}),(0,s.jsx)("option",{value:"Masculin",children:"Masculin"}),(0,s.jsx)("option",{value:"Feminin",children:"Feminin"})]}),(0,s.jsx)("div",{className:"w-full h-auto flex justify-center",children:(0,s.jsx)("button",{className:"w-full btn btn-outline btn-secondary",children:"Inscription"})})]})}},1278:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return c}});var s=l(7437),n=l(2265),a=l(8472),r=l(8125);function o(){let e=(0,n.useRef)(null),t=(0,n.useRef)(null),[l,o]=(0,n.useState)(null),{login:i}=(0,r.a)(),c=async l=>{l.preventDefault();try{let l=await a.Z.post("http://localhost:3000/login",{email:e.current.value,password:t.current.value});console.log("R\xe9ponse compl\xe8te :",l.data),l.data&&l.data.token?(console.log("token : response.data.token"),console.log(l.data.token),i(l.data.token),200===l.status&&(console.log("Le token a bien \xe9t\xe9 enregistr\xe9 dans le localstorage"),window.location.href="/mesmusiques")):(o("Erreur : Le token n'a pas \xe9t\xe9 re\xe7u"),console.log("Erreur : Le token n'a pas \xe9t\xe9 re\xe7u"))}catch(e){o("Erreur connexion"),console.log("Erreur lors de la connexion :",e)}};return(0,s.jsxs)("form",{className:"flex flex-col gap-3 p-10 w-full max-w-sm",onSubmit:c,children:[(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Email",(0,s.jsx)("input",{type:"text",className:"grow",placeholder:"daisy@site.com",ref:e})]}),(0,s.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",clipRule:"evenodd"})}),(0,s.jsx)("input",{type:"password",className:"grow",placeholder:"password",ref:t})]}),(0,s.jsx)("div",{className:"w-full h-auto flex justify-center",children:(0,s.jsx)("button",{className:"w-full btn btn-outline btn-primary",type:"submit",children:"Connexion"})}),l&&(0,s.jsxs)("p",{children:["Erreur : ",l]})]})}var i=l(2629);function c(){let[e,t]=(0,n.useState)(!0);return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"w-full min-h-[calc(100vh-4.5rem)] flex flex-row justify-center items-center gap-10 flex-wrap",children:[(0,s.jsxs)("div",{className:"w-2/5 h-auto text-center",children:[(0,s.jsx)("h2",{className:"text-4xl font-bold bg-gradient-to-r from-purple-500 via-pink-500 to-pink-500 bg-clip-text text-transparent mb-4",children:"Bienvenue sur FiveMusics"}),(0,s.jsxs)("p",{className:"text-lg",children:["D\xe9couvrez, partagez et connectez-vous \xe0 travers la musique que vous aimez. ",(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"text-pink-500 font-semibold",children:(0,s.jsx)("a",{onClick:()=>{e&&t(!1)},className:"cursor-pointer",children:"Cr\xe9ez un compte"})})," pour explorer un monde de d\xe9couvertes musicales et de nouvelles rencontres."]}),(0,s.jsxs)("p",{className:"text-lg mt-4",children:[(0,s.jsx)("span",{className:"text-purple-500 font-semibold",children:(0,s.jsx)("a",{onClick:()=>{e||t(!0)},className:"cursor-pointer",children:"D\xe9j\xe0 membre ?"})})," Connectez-vous pour acc\xe9der \xe0 vos playlists personnalis\xe9es et d\xe9couvrir ce que vos amis \xe9coutent."]})]}),e?(0,s.jsx)(o,{}):(0,s.jsx)(i.default,{})]})})}},8125:function(e,t,l){"use strict";l.d(t,{AuthProvider:function(){return r},a:function(){return o}});var s=l(7437),n=l(2265);let a=(0,n.createContext)(void 0),r=e=>{let{children:t}=e,[l,r]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("token");e&&r(e)},[]),(0,n.useEffect)(()=>{l?localStorage.setItem("token",l):localStorage.removeItem("token")},[l]),(0,s.jsx)(a.Provider,{value:{token:l,setToken:r,login:e=>{r(e)},logout:()=>{r(null),window.location.href="/"}},children:t})},o=()=>{let e=(0,n.useContext)(a);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[472,971,23,744],function(){return e(e.s=4247)}),_N_E=e.O()}]);