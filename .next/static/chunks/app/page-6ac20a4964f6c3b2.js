(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6897:function(e,t,s){Promise.resolve().then(s.bind(s,1391)),Promise.resolve().then(s.bind(s,354)),Promise.resolve().then(s.bind(s,2629))},1391:function(e,t,s){"use strict";s.d(t,{default:function(){return j}});var l=s(7437),n=s(6648),r=s(7573),a=s(8094),c=s(2265),i=s(4667);function u(e){let{url_preview:t,cardId:s}=e,{activeAudioId:n,setActiveAudioId:u}=(0,i.Q)(),o=(0,c.useRef)(null);return(0,c.useEffect)(()=>{let e=o.current,t=()=>{u(null)};return e&&e.addEventListener("ended",t),()=>{e&&e.removeEventListener("ended",t)}},[u]),(0,c.useEffect)(()=>{o.current&&n!==s&&o.current.pause()},[n,s]),(0,l.jsxs)(l.Fragment,{children:[n===s?(0,l.jsx)("button",{className:"btn btn-circle btn-secondary btn-sm",onClick:()=>{o.current&&(o.current.pause(),u(null))},children:(0,l.jsx)(r.Z,{className:"w-4 h-4"})}):(0,l.jsx)("button",{className:"btn btn-circle btn-primary btn-sm",onClick:()=>{o.current&&(o.current.play(),u(s))},children:(0,l.jsx)(a.Z,{className:"w-4 h-4"})}),(0,l.jsx)("audio",{ref:o,src:t})]})}var o=s(8472),d=s(8125),h=s(4697);function x(e){let{cardId:t,onDelete:s}=e,[n,r]=(0,c.useState)(!1),[a,i]=(0,c.useState)(null),{token:u}=(0,d.a)(),x=async()=>{r(!0),i(null);try{let e="http://localhost:3000/deleteMusic/".concat(t);await o.Z.delete(e,{headers:{Authorization:"Bearer ".concat(u)}}),s(t)}catch(e){i("Failed to delete the music. Please try again.")}finally{r(!1)}};return(0,l.jsx)("button",{onClick:x,disabled:n,className:"btn btn-circle btn-secondary btn-sm",children:(0,l.jsx)(h.Z,{})})}function m(e){let{children:t}=e;return(0,l.jsx)("div",{className:"card-actions justify-end flex-row",children:t})}var f=s(6273);function p(e){let{artiste:t,titre:s,url_preview:n,url_cover_album_big:r}=e,{token:a}=(0,d.a)(),c=async()=>{try{await o.Z.post("http://localhost:3000/addMusic",{artiste:t,titre:s,url_preview:n,url_cover_album_big:r},{headers:{Authorization:"Bearer ".concat(a)}})}catch(e){console.log(e)}};return(0,l.jsx)("button",{onClick:c,className:"btn btn-circle btn-secondary btn-sm",children:(0,l.jsx)(f.Z,{})})}function j(e){let{cardId:t,name_artist:s,name_song:r,url_preview:a,url_cover_album_big:i,nom:o="raffoul",prenom:d="pierre",audioButton:h=!1,size:f="h-full w-full",withBlock:j=!1,deleteButton:b=!1,addButton:v=!1}=e,[g,w]=(0,c.useState)(!1),N=e=>{w(!0)};return g?null:(0,l.jsx)(l.Fragment,{children:j?(0,l.jsx)("div",{className:"w-[220px] h-[360px] bg-sky-950 rounded-2xl",children:(0,l.jsxs)("div",{className:"card glass ".concat(f),children:[(0,l.jsx)("figure",{className:"h-50",children:(0,l.jsx)(n.default,{className:"object-contain",src:i,alt:s+" "+r,width:500,height:500,objectFit:"contain",priority:!0})}),(0,l.jsxs)("div",{className:"card-body p-4",children:[(0,l.jsx)("h2",{className:"card-title text-sm",children:r}),(0,l.jsx)("p",{className:"text-xs",children:s}),(0,l.jsxs)("p",{className:"text-xs",children:["liked by ",(0,l.jsx)("em",{children:d+" "+o})]}),(0,l.jsxs)(m,{children:[b?(0,l.jsx)(x,{cardId:t,onDelete:N}):null,v?(0,l.jsx)(p,{titre:r,artiste:s,url_preview:a,url_cover_album_big:i}):null,h?(0,l.jsx)(u,{url_preview:a,cardId:t}):null]})]})]})}):(0,l.jsxs)("div",{className:"card glass ".concat(f),children:[(0,l.jsx)("figure",{className:"h-50",children:(0,l.jsx)(n.default,{className:"object-contain",src:i,alt:s+" "+r,width:500,height:500,objectFit:"contain",priority:!0})}),(0,l.jsxs)("div",{className:"card-body p-4",children:[(0,l.jsx)("h2",{className:"card-title text-sm",children:r}),(0,l.jsx)("p",{className:"text-xs",children:s}),(0,l.jsxs)("p",{className:"text-xs",children:["liked by ",(0,l.jsx)("em",{children:d+" "+o})]}),(0,l.jsxs)(m,{children:[b?(0,l.jsx)(x,{cardId:t,onDelete:N}):null,v?(0,l.jsx)(p,{titre:r,artiste:s,url_preview:a,url_cover_album_big:i}):null,h?(0,l.jsx)(u,{url_preview:a,cardId:t}):null]})]})]})})}},354:function(e,t,s){"use strict";s.d(t,{default:function(){return a}});var l=s(7437),n=s(2265),r=s(6648);function a(){let[e,t]=(0,n.useState)(0),s=["/images/img1.png","/images/img2.png"];return(0,n.useEffect)(()=>{let e=setInterval(()=>{t(e=>(e+1)%s.length)},3e3);return()=>clearInterval(e)},[s.length]),(0,l.jsxs)("div",{className:"mockup-browser border border-slate-900 w-auto h-auto",children:[(0,l.jsx)("div",{className:"mockup-browser-toolbar",children:(0,l.jsx)("div",{className:"input",children:"https://fivemusics.com"})}),(0,l.jsx)("div",{className:"bg-base-200 flex justify-center h-full w-full",children:(0,l.jsx)(r.default,{className:"object-contain",src:s[e],alt:"img".concat(e+1),width:1920,height:1080,objectFit:"contain",priority:!0})})]})}},2629:function(e,t,s){"use strict";s.d(t,{default:function(){return a}});var l=s(7437),n=s(2265),r=s(8472);function a(){let[e,t]=(0,n.useState)(""),[s,a]=(0,n.useState)(""),[c,i]=(0,n.useState)(""),[u,o]=(0,n.useState)(""),[d,h]=(0,n.useState)(""),x=async t=>{t.preventDefault();let l={prenom:e,nom:s,email:c,password:u,sexe:d.substring(0,1)};try{await r.Z.post("http://localhost:3000/signup",l),window.location.href="/connexion"}catch(e){console.log(e)}};return(0,l.jsxs)("form",{className:"flex flex-col gap-3 p-10 w-full max-w-sm",onSubmit:x,children:[(0,l.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Prenom",(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"Le",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Nom",(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"goat",value:s,onChange:e=>a(e.target.value)})]}),(0,l.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:["Email",(0,l.jsx)("input",{type:"text",className:"grow",placeholder:"daisy@site.com",value:c,onChange:e=>i(e.target.value)})]}),(0,l.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"h-4 w-4 opacity-70",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M14 6a4 4 0 0 1-4.899 3.899l-1.955 1.955a.5.5 0 0 1-.353.146H5v1.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-2.293a.5.5 0 0 1 .146-.353l3.955-3.955A4 4 0 1 1 14 6Zm-4-2a.75.75 0 0 0 0 1.5.5.5 0 0 1 .5.5.75.75 0 0 0 1.5 0 2 2 0 0 0-2-2Z",clipRule:"evenodd"})}),(0,l.jsx)("input",{type:"password",className:"grow",placeholder:"password",value:u,onChange:e=>o(e.target.value)})]}),(0,l.jsxs)("select",{className:"select select-bordered w-full max-w-xs",value:d,onChange:e=>h(e.target.value),children:[(0,l.jsx)("option",{value:"",disabled:!0,children:"Sexe"}),(0,l.jsx)("option",{value:"Masculin",children:"Masculin"}),(0,l.jsx)("option",{value:"Feminin",children:"Feminin"})]}),(0,l.jsx)("div",{className:"w-full h-auto flex justify-center",children:(0,l.jsx)("button",{className:"w-full btn btn-outline btn-secondary",children:"Inscription"})})]})}},4667:function(e,t,s){"use strict";s.d(t,{AudioProvider:function(){return a},Q:function(){return c}});var l=s(7437),n=s(2265);let r=(0,n.createContext)(void 0),a=e=>{let{children:t}=e,[s,a]=(0,n.useState)(null),c=(0,n.useCallback)(e=>{a(e)},[]);return(0,l.jsx)(r.Provider,{value:{activeAudioId:s,setActiveAudioId:c},children:t})},c=()=>{let e=(0,n.useContext)(r);if(void 0===e)throw Error("useAudio must be used within an AudioProvider");return e}},8125:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return a},a:function(){return c}});var l=s(7437),n=s(2265);let r=(0,n.createContext)(void 0),a=e=>{let{children:t}=e,[s,a]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=localStorage.getItem("token");e&&a(e)},[]),(0,n.useEffect)(()=>{s?localStorage.setItem("token",s):localStorage.removeItem("token")},[s]),(0,l.jsx)(r.Provider,{value:{token:s,setToken:a,login:e=>{a(e)},logout:()=>{a(null),window.location.href="/"}},children:t})},c=()=>{let e=(0,n.useContext)(r);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[472,215,971,23,744],function(){return e(e.s=6897)}),_N_E=e.O()}]);